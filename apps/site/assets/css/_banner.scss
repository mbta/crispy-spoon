.m-banner {
  color: inherit;
  display: block;
  margin-top: $base-spacing * 3;
  position: relative;

  &:hover {
    color: inherit;
    text-decoration: none;

    .m-banner__title--default {
      text-decoration: underline;
    }

    .m-banner__cta {
      background: $brand-primary-lightest;
    }
  }

  &--responsive {
    @include media-breakpoint-only(xxl) {
     // banner content is not full width at xxl,
     // so prevent container from being 100% at that breakpoint.
      margin: $base-spacing * 3 auto 0;
      width: map-get($container-max-widths, xxl);
    }

    @include media-breakpoint-up(sm) {
      margin-bottom: $base-spacing;
    }
  }

  &--responsive-lg-margin {
    @include media-breakpoint-only(lg) {
      // banner content is not full width at lg,
      // so prevent container from being 100% at that breakpoint.
      margin: $base-spacing * 3 auto $base-spacing;
      width: map-get($container-max-widths, lg);
    }
  }

  &--small-margin-top {
    margin-top: $base-spacing;
  }
}

.m-banner__image {
  background-position: center;
  background-size: cover;

  &--responsive {
    @include media-breakpoint-down(xs) {
      // content is outside of the image div at xs,
      // so the div needs a set height for the
      // background image to be visible
      height: $base-spacing * 20;
    }

    @include media-breakpoint-only(xxl) {
      @include make-container();
      max-width: map-get($container-max-widths, xxl);
    }
  }

  &--responsive-side-by-side {
    @include media-breakpoint-down(xs) {
      // content is outside of the image div at xs,
      // so the div needs a set height for the
      // background image to be visible
      height: $base-spacing * 20;
    }

    @include media-breakpoint-up(sm) {
      display: flex;
    }

    @include media-breakpoint-up(lg) {
      @include make-container();
      max-width: map-get($container-max-widths, xxl);
      padding: 0;
    }
  }

  &--by-side {
    width: 62.5%;
  }
}

.m-banner__image--important {
  padding: $base-spacing * 3;
}

.m-banner__content {
  background-color: $white;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: $base-spacing;

  @include media-breakpoint-down(xs) {
    margin-bottom: $base-spacing * 5;
    margin-left: $base-spacing * 2;
    margin-right: $base-spacing * 2;
    margin-top: -$base-spacing * 4;
  }

  @include media-breakpoint-up(sm) {
    width: $col-width * 5;
  }

  @include media-breakpoint-up(lg) {
    width: $col-width * 4;
  }

  &--responsive-side-by-side {
    @include media-breakpoint-up(lg) {
      width: 37.5%;
    }
  }

  &--responsive {
    @include media-breakpoint-up(sm) {
      min-height: $base-spacing * 20;
    }
  }
}

.m-banner__content--right {
  @include media-breakpoint-up(sm) {
    float: right;
    margin-right: $col-width;
  }
}

.m-banner__content--default {
  @include media-breakpoint-only(sm) {
    margin-left: $col-width;
  }

  @include media-breakpoint-up(xxl) {
    margin-left: $col-width;
  }
}

.m-banner__content--important {
  border: $border;
  float: none;
  text-align: center;

  @include media-breakpoint-only(sm) {
    width: $col-width * 8;
  }

  @include media-breakpoint-up(sm) {
    margin-left: auto;
    margin-right: auto;
  }
}

.m-banner__category {
  font-weight: bold;

  a {
    left: -$base-spacing / 2;
    padding: $base-spacing / 2;
    position: relative;
    z-index: 1;

    @include hover-focus-active {
      text-decoration: none;
    }

    &:hover::after {
      content: ' ' attr(title);
      opacity: .5;
      white-space: pre;
    }
  }
}

.m-banner__title {
  a {
    display: inline-block;

    &::after {
      bottom: 0;
      content: '';
      left: 0;
      position: absolute;
      right: 0;
      top: 0;
    }
  }
}

.m-banner__cta {
  border: 1px solid $brand-primary;
  border-radius: $border-radius;
  display: block;
  padding: $base-spacing * .75;

  &:hover {
    background: $brand-primary-lightest;
    text-decoration: none;
  }

}

.m-banner__date {
  font-weight: bold;
}
